/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.l = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// identity function for calling harmory imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };

/******/ 	// define getter function for harmory exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		Object.defineProperty(exports, name, {
/******/ 			configurable: false,
/******/ 			enumerable: true,
/******/ 			get: getter
/******/ 		});
/******/ 	};

/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};

/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports) {

eval("/*\r\n * jQuery / jqLite Wizard Plugin\r\n * version: 0.0.7\r\n * Author: Girolamo Tomaselli http://bygiro.com\r\n *\r\n * Copyright (c) 2013 G. Tomaselli\r\n * Licensed under the MIT license.\r\n */\r\n\r\n// compatibility for jQuery / jqLite\r\nvar bg = bg || false;\r\nif(!bg){\r\n    if(typeof jQuery != 'undefined'){\r\n        bg = jQuery;\r\n    } else {\r\n        console.log(\"No jQuery\");\r\n    }\r\n}\r\n\r\n;(function ($, document, window){\r\n\r\n    \"use strict\";\r\n\r\n    var pluginName = \"wizardByGiro\",\r\n    // the name of using in .data()\r\n    dataPlugin = \"plugin_\" + pluginName,\r\n    defaults = {\r\n        currentStep: 0,\r\n        checkStep: false,\r\n        onCompleted: false,\r\n        bottomButtons: true,\r\n        topButtons: true,\r\n        autoSubmit: false,\r\n        keyboard: false,\r\n        btnClass: 'btn',\r\n        btnClassDefault: 'btn-default',\r\n        btnClassCompleted: 'btn-success',\r\n        text:{\r\n            finished: 'Complete',\r\n            next: 'Next',\r\n            previous: 'Previous'\r\n        }\r\n    },\r\n\r\n    attachEventsHandler = function(){\r\n        var that = this,\r\n        opts = this.options;\r\n\r\n        that.$element.find('.btn-next, .btn-prev').on('click', function(e){\r\n            if($(this).attr('disabled') || $(this).hasClass('disabled') || !$(this).is(':visible')) return;\r\n\r\n            var type = $(this).hasClass('btn-next') ? 'next' : 'previous';\r\n            e.stopPropagation();\r\n            that[type].call(that,true,e);\r\n        });\r\n\r\n        that.$element.find('.steps > li').on('click', function(e){\r\n            e.stopPropagation();\r\n            var step = $(this).attr('data-step'),\r\n            isCompleted = $(this).hasClass('completed');\r\n            if(!isCompleted) return true;\r\n\r\n            that.setStep.call(that,step,e);\r\n        });\r\n\r\n        $(document).on('keydown', function(e){\r\n            if(!that.$element.is(':visible')) return;\r\n\r\n            // arrow left\r\n            if(e.ctrlKey && e.keyCode == 37){\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n                that.previous.call(that,true,e);\r\n            }\r\n\r\n            // arrow right\r\n            if(e.ctrlKey && e.keyCode == 39){\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n                that.next.call(that,true,e);\r\n            }\r\n        });\r\n\r\n    },\r\n\r\n    checkStatus = function(){\r\n        var that = this,\r\n            currentWidth,\r\n            stepsWidth = 0,\r\n            stepPosition = false,\r\n            steps = that.$element.find('.steps'),\r\n            stepsItems = that.$element.find('.steps > li'),\r\n            opts = that.options;\r\n\r\n        if(!this.currentStep) this.currentStep = 1;\r\n\r\n        stepsItems.removeClass('active');\r\n        that.$element\r\n            .find('.steps > li[data-step=\"'+ that.currentStep +'\"]')\r\n            .addClass('active');\r\n\r\n        that.$element.find('.steps-content .step-pane').removeClass('active');\r\n        var current = that.$element.find('.steps-content .step-pane[data-step=\"'+ that.currentStep +'\"]');\r\n            current.addClass('active');\r\n\r\n        for(var i=0;i<stepsItems.length;i++){\r\n            var stepLi = $(stepsItems[i]);\r\n            if(that.currentStep > (i+1)){\r\n                stepLi.addClass('completed');\r\n            } else {\r\n                stepLi.removeClass('completed');\r\n            }\r\n\r\n            currentWidth = stepLi.outerWidth();\r\n            if(!stepPosition && stepLi.hasClass('active')){\r\n                stepPosition = stepsWidth + (currentWidth / 2);\r\n            }\r\n\r\n            stepsWidth += currentWidth;\r\n        }\r\n\r\n        // set buttons based on current step\r\n        //qiyun that.$element.find('.btn-next').removeClass('final-step '+ opts.btnClassCompleted).addClass(opts.btnClassDefault);\r\n        that.$element.find('.btn-next').removeClass('disabled hidden').addClass(opts.btnClassDefault);\r\n        that.$element.find('.btn-prev').removeClass('disabled hidden');\r\n        that.$element.find('.finished-text').addClass('final-step btn btn-success'); //qiyun\r\n        that.$element.find('.cancel-text').addClass('btn btn-default'); //qiyun\r\n\r\n        if(that.currentStep == stepsItems.length){\r\n            // we are in the last step\r\n            //qiyun that.$element.find('.btn-next').removeClass(opts.btnClassDefault).addClass('final-step '+ opts.btnClassCompleted);\r\n            that.$element.find('.btn-next').removeClass(opts.btnClassDefault).addClass('disabled hidden');\r\n        } else if(that.currentStep == 1){\r\n            that.$element.find('.btn-prev').addClass('disabled hidden');\r\n        }\r\n\r\n        // move steps view if needed\r\n        var totalWidth = that.$element.width() - that.$element.find('.actions').outerWidth();\r\n\r\n        if(stepsWidth < totalWidth) return;\r\n\r\n        var offsetDiff = stepPosition - (totalWidth / 2);\r\n        if(offsetDiff > 0){\r\n            // move it forward\r\n            steps.css('left',-offsetDiff);\r\n        } else {\r\n            // move it backward\r\n            steps.css('left',0);\r\n        }\r\n    },\r\n\r\n    moveStep = function(step, direction, event, checkStep){\r\n        var that = this, canMove = true,\r\n        steps = that.$element.find('.steps > li'),\r\n        triggerEnd = false;\r\n\r\n        checkStep = checkStep === false ? false : true;\r\n\r\n        // check we can move\r\n        if(checkStep && typeof that.options.checkStep == 'function'){\r\n            canMove = that.options.checkStep(that,direction,event);\r\n        }\r\n\r\n        if(!canMove) return;\r\n\r\n        if(step){\r\n            that.currentStep = parseInt(step);\r\n        } else {\r\n            if(direction){\r\n                that.currentStep++;\r\n            } else {\r\n                that.currentStep--;\r\n            }\r\n        }\r\n\r\n        that.$element.triggerHandler('step_changed.wizardByGiro');\r\n\r\n        if(that.currentStep < 0) that.currentStep = 0;\r\n        if(that.currentStep > steps.length){\r\n            that.currentStep = steps.length;\r\n            triggerEnd = true;\r\n        }\r\n\r\n        checkStatus.call(that);\r\n\r\n        if(triggerEnd){\r\n            if(typeof that.options.onCompleted == 'function'){\r\n                that.options.onCompleted(that);\r\n            } else if(that.options.autoSubmit) {\r\n                // search if wizard is inside a form and submit it.\r\n                var form = that.$element.closest('form');\r\n                if(form.length) form.submit();\r\n            }\r\n        }\r\n    },\r\n\r\n    methods = {\r\n        init: function (element, options) {\n            var this$1 = this;\n\r\n            var that = this;\r\n            this.$element = $(element);\r\n            this.options = $.extend({}, defaults, options);\r\n\r\n            var opts = this.options;\r\n\r\n            this.$element.addClass('wizard');\r\n\r\n            // add the buttons\r\n            var stepsBar = this.$element.find('.steps'),\r\n            topActions = this.$element.find('.top-actions'),\r\n            bottomActions = this.$element.find('.bottom-actions'),\r\n            // qiyun\r\n            stableActions = this.$element.find('.stable-actions'),\r\n            progressBar = this.$element.find('.progress-bar'),\r\n            html = '';\r\n\r\n            // wrap steps in a container with hidden overflow, if it doesn't have a container\r\n            if(stepsBar.parent().hasClass('wizard')){\r\n                // let's add a container\r\n                stepsBar.wrap('<div class=\"steps-index-container\"></div>');\r\n            } else {\r\n                stepsBar.parent().addClass('steps-index-container');\r\n            }\r\n\r\n            if(opts.topButtons && stepsBar.length && !topActions.length){\r\n                html += '<div class=\"top-actions\"><div class=\"btn-group\">';\r\n                html += '<span class=\"'+ opts.btnClass +' '+ opts.btnClassDefault +' btn-prev\"><span class=\"previous-text\">'+ opts.text.previous +'</span></span>';\r\n                html += '<span class=\"'+ opts.btnClass +' '+ opts.btnClassDefault +' btn-next\"><span class=\"next-text\">'+ opts.text.next +'</span></span>';\r\n                //qiyun <span class=\"finished-text\">'+ opts.text.finished +'</span>\r\n                html += '</div></div>';\r\n\r\n                stepsBar.after(html);\r\n            }\r\n\r\n            html = '';\r\n            if(opts.bottomButtons && !bottomActions.length){\r\n                html += '<div class=\"bottom-actions\">';\r\n                html += '<div class=\"left-actions\"><span class=\"'+ opts.btnClass +' '+ opts.btnClassDefault +' btn-prev\"><span class=\"previous-text\">'+ opts.text.previous +'</span></span></div>';\r\n                html += '<div class=\"right-actions\"><span class=\"'+ opts.btnClass +' '+ opts.btnClassDefault +' btn-next\"><span class=\"next-text\">'+ opts.text.next +'</span></span></div></div>';\r\n                //<qiyun <span class=\"finished-text\">'+ opts.text.finished +'</span>\r\n                html += '<div class=\"stable-panel\"><div class=\"stable-actions\">';\r\n                html += '<div><span class=\"finished-text\">' + opts.text.finished +'</span><span class=\"cancel-text\">Cancel</sapn></div></div></div>';\r\n                //qiyun>\r\n                that.$element.find('.steps-content').append(html);\r\n            }\r\n\r\n            // add arrows to btn\r\n            this.$element.find('.btn-prev').prepend('<i class=\"wiz-icon-arrow-left\"></i>');\r\n            this.$element.find('.btn-next').append('<i class=\"wiz-icon-arrow-right\"></i>');\r\n\r\n            // get steps and prepare them\r\n            var stepsLi = this.$element.find('.steps > li');\r\n            for(var i=0;i<stepsLi.length;i++){\r\n                var step = $(stepsLi[i]),\r\n                target = step.attr('data-step'),\r\n                content = '<span class=\"step-text\">'+ step.html() +'</span>';\r\n\r\n                step.empty().html('<span class=\"step-index\"><span class=\"label\">'+ (i+1) +'</span></span>'+ content + '<span class=\"wiz-icon-chevron-right colorA\"></span><span class=\"wiz-icon-chevron-right colorB\"></span>');\r\n\r\n                that.$element.find('.steps-content [data-step=\"'+ target +'\"]').addClass('step-pane');\r\n\r\n                // detect currentStep\r\n                if(step.hasClass('active') && !that.currentStep){\r\n                    that.currentStep = i+1;\r\n                }\r\n            }\r\n\r\n            this.$element.find('.steps > li:last-child').addClass('final');\r\n\r\n            attachEventsHandler.call(this);\r\n\r\n            var callbacks = ['checkStep','onCompleted'],cb;\r\n            for(var i=0;i<callbacks.length;i++){\r\n                cb = callbacks[i];\r\n                if(typeof this$1.options[cb] == 'string' && typeof window[this$1.options[cb]] == 'function'){\r\n                    this$1.options[cb] = window[this$1.options[cb]];\r\n                }\r\n            }\r\n\r\n            checkStatus.call(this);\r\n        },\r\n\r\n        next: function(checkStep,event){\r\n            moveStep.call(this,false,true,event,checkStep);\r\n        },\r\n\r\n        previous: function(checkStep,event){\r\n            moveStep.call(this,false,false,event,checkStep);\r\n        },\r\n\r\n        setStep: function(step, checkStep, event){\r\n            moveStep.call(this,step,null,event,checkStep);\r\n        }\r\n    };\r\n\r\n    var main = function (method) {\r\n        var thisPlugin = this.data(dataPlugin);\r\n        if (thisPlugin) {\r\n            if (typeof method === 'string' && thisPlugin[method]) {\r\n                return thisPlugin[method].apply(thisPlugin, Array.prototype.slice.call(arguments, 1));\r\n            }\r\n            return console.log('Method ' + arg + ' does not exist on jQuery / jqLite' + pluginName);\r\n        } else {\r\n            if (!method || typeof method === 'object') {\r\n                thisPlugin = $.extend({}, methods);\r\n                thisPlugin.init(this, method);\r\n                this.data(dataPlugin, thisPlugin);\r\n\r\n                return this;\r\n            }\r\n            return console.log( pluginName +' is not instantiated. Please call $(\"selector\").'+ pluginName +'({options})');\r\n        }\r\n    };\r\n\r\n    // plugin integration\r\n    if($.fn){\r\n        $.fn[ pluginName ] = main;\r\n    } else {\r\n        $.prototype[ pluginName ] = main;\r\n    }\r\n\r\n    $(document).ready(function(){\r\n        var mySelector = document.querySelector('[data-wizard-init]');\r\n        $(mySelector)[ pluginName ]({});\r\n    });\r\n}(bg, document, window));\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9yZXNvdXJjZXMvYXNzZXRzL2pzL2pxdWVyeS53aXphcmQuanM/YjMxOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gKiBqUXVlcnkgLyBqcUxpdGUgV2l6YXJkIFBsdWdpblxyXG4gKiB2ZXJzaW9uOiAwLjAuN1xyXG4gKiBBdXRob3I6IEdpcm9sYW1vIFRvbWFzZWxsaSBodHRwOi8vYnlnaXJvLmNvbVxyXG4gKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMgRy4gVG9tYXNlbGxpXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cclxuICovXHJcblxyXG4vLyBjb21wYXRpYmlsaXR5IGZvciBqUXVlcnkgLyBqcUxpdGVcclxudmFyIGJnID0gYmcgfHwgZmFsc2U7XHJcbmlmKCFiZyl7XHJcbiAgICBpZih0eXBlb2YgalF1ZXJ5ICE9ICd1bmRlZmluZWQnKXtcclxuICAgICAgICBiZyA9IGpRdWVyeTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJObyBqUXVlcnlcIik7XHJcbiAgICB9XHJcbn1cclxuXHJcbjsoZnVuY3Rpb24gKCQsIGRvY3VtZW50LCB3aW5kb3cpe1xyXG5cclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG5cclxuICAgIHZhciBwbHVnaW5OYW1lID0gXCJ3aXphcmRCeUdpcm9cIixcclxuICAgIC8vIHRoZSBuYW1lIG9mIHVzaW5nIGluIC5kYXRhKClcclxuICAgIGRhdGFQbHVnaW4gPSBcInBsdWdpbl9cIiArIHBsdWdpbk5hbWUsXHJcbiAgICBkZWZhdWx0cyA9IHtcclxuICAgICAgICBjdXJyZW50U3RlcDogMCxcclxuICAgICAgICBjaGVja1N0ZXA6IGZhbHNlLFxyXG4gICAgICAgIG9uQ29tcGxldGVkOiBmYWxzZSxcclxuICAgICAgICBib3R0b21CdXR0b25zOiB0cnVlLFxyXG4gICAgICAgIHRvcEJ1dHRvbnM6IHRydWUsXHJcbiAgICAgICAgYXV0b1N1Ym1pdDogZmFsc2UsXHJcbiAgICAgICAga2V5Ym9hcmQ6IGZhbHNlLFxyXG4gICAgICAgIGJ0bkNsYXNzOiAnYnRuJyxcclxuICAgICAgICBidG5DbGFzc0RlZmF1bHQ6ICdidG4tZGVmYXVsdCcsXHJcbiAgICAgICAgYnRuQ2xhc3NDb21wbGV0ZWQ6ICdidG4tc3VjY2VzcycsXHJcbiAgICAgICAgdGV4dDp7XHJcbiAgICAgICAgICAgIGZpbmlzaGVkOiAnQ29tcGxldGUnLFxyXG4gICAgICAgICAgICBuZXh0OiAnTmV4dCcsXHJcbiAgICAgICAgICAgIHByZXZpb3VzOiAnUHJldmlvdXMnXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBhdHRhY2hFdmVudHNIYW5kbGVyID0gZnVuY3Rpb24oKXtcclxuICAgICAgICB2YXIgdGhhdCA9IHRoaXMsXHJcbiAgICAgICAgb3B0cyA9IHRoaXMub3B0aW9ucztcclxuXHJcbiAgICAgICAgdGhhdC4kZWxlbWVudC5maW5kKCcuYnRuLW5leHQsIC5idG4tcHJldicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICBpZigkKHRoaXMpLmF0dHIoJ2Rpc2FibGVkJykgfHwgJCh0aGlzKS5oYXNDbGFzcygnZGlzYWJsZWQnKSB8fCAhJCh0aGlzKS5pcygnOnZpc2libGUnKSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgdmFyIHR5cGUgPSAkKHRoaXMpLmhhc0NsYXNzKCdidG4tbmV4dCcpID8gJ25leHQnIDogJ3ByZXZpb3VzJztcclxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgdGhhdFt0eXBlXS5jYWxsKHRoYXQsdHJ1ZSxlKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhhdC4kZWxlbWVudC5maW5kKCcuc3RlcHMgPiBsaScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICB2YXIgc3RlcCA9ICQodGhpcykuYXR0cignZGF0YS1zdGVwJyksXHJcbiAgICAgICAgICAgIGlzQ29tcGxldGVkID0gJCh0aGlzKS5oYXNDbGFzcygnY29tcGxldGVkJyk7XHJcbiAgICAgICAgICAgIGlmKCFpc0NvbXBsZXRlZCkgcmV0dXJuIHRydWU7XHJcblxyXG4gICAgICAgICAgICB0aGF0LnNldFN0ZXAuY2FsbCh0aGF0LHN0ZXAsZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdrZXlkb3duJywgZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgIGlmKCF0aGF0LiRlbGVtZW50LmlzKCc6dmlzaWJsZScpKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAvLyBhcnJvdyBsZWZ0XHJcbiAgICAgICAgICAgIGlmKGUuY3RybEtleSAmJiBlLmtleUNvZGUgPT0gMzcpe1xyXG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIHRoYXQucHJldmlvdXMuY2FsbCh0aGF0LHRydWUsZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGFycm93IHJpZ2h0XHJcbiAgICAgICAgICAgIGlmKGUuY3RybEtleSAmJiBlLmtleUNvZGUgPT0gMzkpe1xyXG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIHRoYXQubmV4dC5jYWxsKHRoYXQsdHJ1ZSxlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH0sXHJcblxyXG4gICAgY2hlY2tTdGF0dXMgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcyxcclxuICAgICAgICAgICAgY3VycmVudFdpZHRoLFxyXG4gICAgICAgICAgICBzdGVwc1dpZHRoID0gMCxcclxuICAgICAgICAgICAgc3RlcFBvc2l0aW9uID0gZmFsc2UsXHJcbiAgICAgICAgICAgIHN0ZXBzID0gdGhhdC4kZWxlbWVudC5maW5kKCcuc3RlcHMnKSxcclxuICAgICAgICAgICAgc3RlcHNJdGVtcyA9IHRoYXQuJGVsZW1lbnQuZmluZCgnLnN0ZXBzID4gbGknKSxcclxuICAgICAgICAgICAgb3B0cyA9IHRoYXQub3B0aW9ucztcclxuXHJcbiAgICAgICAgaWYoIXRoaXMuY3VycmVudFN0ZXApIHRoaXMuY3VycmVudFN0ZXAgPSAxO1xyXG5cclxuICAgICAgICBzdGVwc0l0ZW1zLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICB0aGF0LiRlbGVtZW50XHJcbiAgICAgICAgICAgIC5maW5kKCcuc3RlcHMgPiBsaVtkYXRhLXN0ZXA9XCInKyB0aGF0LmN1cnJlbnRTdGVwICsnXCJdJylcclxuICAgICAgICAgICAgLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuXHJcbiAgICAgICAgdGhhdC4kZWxlbWVudC5maW5kKCcuc3RlcHMtY29udGVudCAuc3RlcC1wYW5lJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgIHZhciBjdXJyZW50ID0gdGhhdC4kZWxlbWVudC5maW5kKCcuc3RlcHMtY29udGVudCAuc3RlcC1wYW5lW2RhdGEtc3RlcD1cIicrIHRoYXQuY3VycmVudFN0ZXAgKydcIl0nKTtcclxuICAgICAgICAgICAgY3VycmVudC5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblxyXG4gICAgICAgIGZvcih2YXIgaT0wO2k8c3RlcHNJdGVtcy5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgdmFyIHN0ZXBMaSA9ICQoc3RlcHNJdGVtc1tpXSk7XHJcbiAgICAgICAgICAgIGlmKHRoYXQuY3VycmVudFN0ZXAgPiAoaSsxKSl7XHJcbiAgICAgICAgICAgICAgICBzdGVwTGkuYWRkQ2xhc3MoJ2NvbXBsZXRlZCcpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc3RlcExpLnJlbW92ZUNsYXNzKCdjb21wbGV0ZWQnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY3VycmVudFdpZHRoID0gc3RlcExpLm91dGVyV2lkdGgoKTtcclxuICAgICAgICAgICAgaWYoIXN0ZXBQb3NpdGlvbiAmJiBzdGVwTGkuaGFzQ2xhc3MoJ2FjdGl2ZScpKXtcclxuICAgICAgICAgICAgICAgIHN0ZXBQb3NpdGlvbiA9IHN0ZXBzV2lkdGggKyAoY3VycmVudFdpZHRoIC8gMik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHN0ZXBzV2lkdGggKz0gY3VycmVudFdpZHRoO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gc2V0IGJ1dHRvbnMgYmFzZWQgb24gY3VycmVudCBzdGVwXHJcbiAgICAgICAgLy9xaXl1biB0aGF0LiRlbGVtZW50LmZpbmQoJy5idG4tbmV4dCcpLnJlbW92ZUNsYXNzKCdmaW5hbC1zdGVwICcrIG9wdHMuYnRuQ2xhc3NDb21wbGV0ZWQpLmFkZENsYXNzKG9wdHMuYnRuQ2xhc3NEZWZhdWx0KTtcclxuICAgICAgICB0aGF0LiRlbGVtZW50LmZpbmQoJy5idG4tbmV4dCcpLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCBoaWRkZW4nKS5hZGRDbGFzcyhvcHRzLmJ0bkNsYXNzRGVmYXVsdCk7XHJcbiAgICAgICAgdGhhdC4kZWxlbWVudC5maW5kKCcuYnRuLXByZXYnKS5yZW1vdmVDbGFzcygnZGlzYWJsZWQgaGlkZGVuJyk7XHJcbiAgICAgICAgdGhhdC4kZWxlbWVudC5maW5kKCcuZmluaXNoZWQtdGV4dCcpLmFkZENsYXNzKCdmaW5hbC1zdGVwIGJ0biBidG4tc3VjY2VzcycpOyAvL3FpeXVuXHJcbiAgICAgICAgdGhhdC4kZWxlbWVudC5maW5kKCcuY2FuY2VsLXRleHQnKS5hZGRDbGFzcygnYnRuIGJ0bi1kZWZhdWx0Jyk7IC8vcWl5dW5cclxuXHJcbiAgICAgICAgaWYodGhhdC5jdXJyZW50U3RlcCA9PSBzdGVwc0l0ZW1zLmxlbmd0aCl7XHJcbiAgICAgICAgICAgIC8vIHdlIGFyZSBpbiB0aGUgbGFzdCBzdGVwXHJcbiAgICAgICAgICAgIC8vcWl5dW4gdGhhdC4kZWxlbWVudC5maW5kKCcuYnRuLW5leHQnKS5yZW1vdmVDbGFzcyhvcHRzLmJ0bkNsYXNzRGVmYXVsdCkuYWRkQ2xhc3MoJ2ZpbmFsLXN0ZXAgJysgb3B0cy5idG5DbGFzc0NvbXBsZXRlZCk7XHJcbiAgICAgICAgICAgIHRoYXQuJGVsZW1lbnQuZmluZCgnLmJ0bi1uZXh0JykucmVtb3ZlQ2xhc3Mob3B0cy5idG5DbGFzc0RlZmF1bHQpLmFkZENsYXNzKCdkaXNhYmxlZCBoaWRkZW4nKTtcclxuICAgICAgICB9IGVsc2UgaWYodGhhdC5jdXJyZW50U3RlcCA9PSAxKXtcclxuICAgICAgICAgICAgdGhhdC4kZWxlbWVudC5maW5kKCcuYnRuLXByZXYnKS5hZGRDbGFzcygnZGlzYWJsZWQgaGlkZGVuJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBtb3ZlIHN0ZXBzIHZpZXcgaWYgbmVlZGVkXHJcbiAgICAgICAgdmFyIHRvdGFsV2lkdGggPSB0aGF0LiRlbGVtZW50LndpZHRoKCkgLSB0aGF0LiRlbGVtZW50LmZpbmQoJy5hY3Rpb25zJykub3V0ZXJXaWR0aCgpO1xyXG5cclxuICAgICAgICBpZihzdGVwc1dpZHRoIDwgdG90YWxXaWR0aCkgcmV0dXJuO1xyXG5cclxuICAgICAgICB2YXIgb2Zmc2V0RGlmZiA9IHN0ZXBQb3NpdGlvbiAtICh0b3RhbFdpZHRoIC8gMik7XHJcbiAgICAgICAgaWYob2Zmc2V0RGlmZiA+IDApe1xyXG4gICAgICAgICAgICAvLyBtb3ZlIGl0IGZvcndhcmRcclxuICAgICAgICAgICAgc3RlcHMuY3NzKCdsZWZ0Jywtb2Zmc2V0RGlmZik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gbW92ZSBpdCBiYWNrd2FyZFxyXG4gICAgICAgICAgICBzdGVwcy5jc3MoJ2xlZnQnLDApO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgbW92ZVN0ZXAgPSBmdW5jdGlvbihzdGVwLCBkaXJlY3Rpb24sIGV2ZW50LCBjaGVja1N0ZXApe1xyXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcywgY2FuTW92ZSA9IHRydWUsXHJcbiAgICAgICAgc3RlcHMgPSB0aGF0LiRlbGVtZW50LmZpbmQoJy5zdGVwcyA+IGxpJyksXHJcbiAgICAgICAgdHJpZ2dlckVuZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICBjaGVja1N0ZXAgPSBjaGVja1N0ZXAgPT09IGZhbHNlID8gZmFsc2UgOiB0cnVlO1xyXG5cclxuICAgICAgICAvLyBjaGVjayB3ZSBjYW4gbW92ZVxyXG4gICAgICAgIGlmKGNoZWNrU3RlcCAmJiB0eXBlb2YgdGhhdC5vcHRpb25zLmNoZWNrU3RlcCA9PSAnZnVuY3Rpb24nKXtcclxuICAgICAgICAgICAgY2FuTW92ZSA9IHRoYXQub3B0aW9ucy5jaGVja1N0ZXAodGhhdCxkaXJlY3Rpb24sZXZlbnQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYoIWNhbk1vdmUpIHJldHVybjtcclxuXHJcbiAgICAgICAgaWYoc3RlcCl7XHJcbiAgICAgICAgICAgIHRoYXQuY3VycmVudFN0ZXAgPSBwYXJzZUludChzdGVwKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZihkaXJlY3Rpb24pe1xyXG4gICAgICAgICAgICAgICAgdGhhdC5jdXJyZW50U3RlcCsrO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhhdC5jdXJyZW50U3RlcC0tO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGF0LiRlbGVtZW50LnRyaWdnZXJIYW5kbGVyKCdzdGVwX2NoYW5nZWQud2l6YXJkQnlHaXJvJyk7XHJcblxyXG4gICAgICAgIGlmKHRoYXQuY3VycmVudFN0ZXAgPCAwKSB0aGF0LmN1cnJlbnRTdGVwID0gMDtcclxuICAgICAgICBpZih0aGF0LmN1cnJlbnRTdGVwID4gc3RlcHMubGVuZ3RoKXtcclxuICAgICAgICAgICAgdGhhdC5jdXJyZW50U3RlcCA9IHN0ZXBzLmxlbmd0aDtcclxuICAgICAgICAgICAgdHJpZ2dlckVuZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjaGVja1N0YXR1cy5jYWxsKHRoYXQpO1xyXG5cclxuICAgICAgICBpZih0cmlnZ2VyRW5kKXtcclxuICAgICAgICAgICAgaWYodHlwZW9mIHRoYXQub3B0aW9ucy5vbkNvbXBsZXRlZCA9PSAnZnVuY3Rpb24nKXtcclxuICAgICAgICAgICAgICAgIHRoYXQub3B0aW9ucy5vbkNvbXBsZXRlZCh0aGF0KTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmKHRoYXQub3B0aW9ucy5hdXRvU3VibWl0KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBzZWFyY2ggaWYgd2l6YXJkIGlzIGluc2lkZSBhIGZvcm0gYW5kIHN1Ym1pdCBpdC5cclxuICAgICAgICAgICAgICAgIHZhciBmb3JtID0gdGhhdC4kZWxlbWVudC5jbG9zZXN0KCdmb3JtJyk7XHJcbiAgICAgICAgICAgICAgICBpZihmb3JtLmxlbmd0aCkgZm9ybS5zdWJtaXQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgbWV0aG9kcyA9IHtcclxuICAgICAgICBpbml0OiBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xyXG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XHJcbiAgICAgICAgICAgIHRoaXMuJGVsZW1lbnQgPSAkKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgZGVmYXVsdHMsIG9wdGlvbnMpO1xyXG5cclxuICAgICAgICAgICAgdmFyIG9wdHMgPSB0aGlzLm9wdGlvbnM7XHJcblxyXG4gICAgICAgICAgICB0aGlzLiRlbGVtZW50LmFkZENsYXNzKCd3aXphcmQnKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGFkZCB0aGUgYnV0dG9uc1xyXG4gICAgICAgICAgICB2YXIgc3RlcHNCYXIgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5zdGVwcycpLFxyXG4gICAgICAgICAgICB0b3BBY3Rpb25zID0gdGhpcy4kZWxlbWVudC5maW5kKCcudG9wLWFjdGlvbnMnKSxcclxuICAgICAgICAgICAgYm90dG9tQWN0aW9ucyA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLmJvdHRvbS1hY3Rpb25zJyksXHJcbiAgICAgICAgICAgIC8vIHFpeXVuXHJcbiAgICAgICAgICAgIHN0YWJsZUFjdGlvbnMgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5zdGFibGUtYWN0aW9ucycpLFxyXG4gICAgICAgICAgICBwcm9ncmVzc0JhciA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLnByb2dyZXNzLWJhcicpLFxyXG4gICAgICAgICAgICBodG1sID0gJyc7XHJcblxyXG4gICAgICAgICAgICAvLyB3cmFwIHN0ZXBzIGluIGEgY29udGFpbmVyIHdpdGggaGlkZGVuIG92ZXJmbG93LCBpZiBpdCBkb2Vzbid0IGhhdmUgYSBjb250YWluZXJcclxuICAgICAgICAgICAgaWYoc3RlcHNCYXIucGFyZW50KCkuaGFzQ2xhc3MoJ3dpemFyZCcpKXtcclxuICAgICAgICAgICAgICAgIC8vIGxldCdzIGFkZCBhIGNvbnRhaW5lclxyXG4gICAgICAgICAgICAgICAgc3RlcHNCYXIud3JhcCgnPGRpdiBjbGFzcz1cInN0ZXBzLWluZGV4LWNvbnRhaW5lclwiPjwvZGl2PicpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc3RlcHNCYXIucGFyZW50KCkuYWRkQ2xhc3MoJ3N0ZXBzLWluZGV4LWNvbnRhaW5lcicpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZihvcHRzLnRvcEJ1dHRvbnMgJiYgc3RlcHNCYXIubGVuZ3RoICYmICF0b3BBY3Rpb25zLmxlbmd0aCl7XHJcbiAgICAgICAgICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwidG9wLWFjdGlvbnNcIj48ZGl2IGNsYXNzPVwiYnRuLWdyb3VwXCI+JztcclxuICAgICAgICAgICAgICAgIGh0bWwgKz0gJzxzcGFuIGNsYXNzPVwiJysgb3B0cy5idG5DbGFzcyArJyAnKyBvcHRzLmJ0bkNsYXNzRGVmYXVsdCArJyBidG4tcHJldlwiPjxzcGFuIGNsYXNzPVwicHJldmlvdXMtdGV4dFwiPicrIG9wdHMudGV4dC5wcmV2aW91cyArJzwvc3Bhbj48L3NwYW4+JztcclxuICAgICAgICAgICAgICAgIGh0bWwgKz0gJzxzcGFuIGNsYXNzPVwiJysgb3B0cy5idG5DbGFzcyArJyAnKyBvcHRzLmJ0bkNsYXNzRGVmYXVsdCArJyBidG4tbmV4dFwiPjxzcGFuIGNsYXNzPVwibmV4dC10ZXh0XCI+Jysgb3B0cy50ZXh0Lm5leHQgKyc8L3NwYW4+PC9zcGFuPic7XHJcbiAgICAgICAgICAgICAgICAvL3FpeXVuIDxzcGFuIGNsYXNzPVwiZmluaXNoZWQtdGV4dFwiPicrIG9wdHMudGV4dC5maW5pc2hlZCArJzwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIGh0bWwgKz0gJzwvZGl2PjwvZGl2Pic7XHJcblxyXG4gICAgICAgICAgICAgICAgc3RlcHNCYXIuYWZ0ZXIoaHRtbCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGh0bWwgPSAnJztcclxuICAgICAgICAgICAgaWYob3B0cy5ib3R0b21CdXR0b25zICYmICFib3R0b21BY3Rpb25zLmxlbmd0aCl7XHJcbiAgICAgICAgICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwiYm90dG9tLWFjdGlvbnNcIj4nO1xyXG4gICAgICAgICAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cImxlZnQtYWN0aW9uc1wiPjxzcGFuIGNsYXNzPVwiJysgb3B0cy5idG5DbGFzcyArJyAnKyBvcHRzLmJ0bkNsYXNzRGVmYXVsdCArJyBidG4tcHJldlwiPjxzcGFuIGNsYXNzPVwicHJldmlvdXMtdGV4dFwiPicrIG9wdHMudGV4dC5wcmV2aW91cyArJzwvc3Bhbj48L3NwYW4+PC9kaXY+JztcclxuICAgICAgICAgICAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJyaWdodC1hY3Rpb25zXCI+PHNwYW4gY2xhc3M9XCInKyBvcHRzLmJ0bkNsYXNzICsnICcrIG9wdHMuYnRuQ2xhc3NEZWZhdWx0ICsnIGJ0bi1uZXh0XCI+PHNwYW4gY2xhc3M9XCJuZXh0LXRleHRcIj4nKyBvcHRzLnRleHQubmV4dCArJzwvc3Bhbj48L3NwYW4+PC9kaXY+PC9kaXY+JztcclxuICAgICAgICAgICAgICAgIC8vPHFpeXVuIDxzcGFuIGNsYXNzPVwiZmluaXNoZWQtdGV4dFwiPicrIG9wdHMudGV4dC5maW5pc2hlZCArJzwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJzdGFibGUtcGFuZWxcIj48ZGl2IGNsYXNzPVwic3RhYmxlLWFjdGlvbnNcIj4nO1xyXG4gICAgICAgICAgICAgICAgaHRtbCArPSAnPGRpdj48c3BhbiBjbGFzcz1cImZpbmlzaGVkLXRleHRcIj4nICsgb3B0cy50ZXh0LmZpbmlzaGVkICsnPC9zcGFuPjxzcGFuIGNsYXNzPVwiY2FuY2VsLXRleHRcIj5DYW5jZWw8L3NhcG4+PC9kaXY+PC9kaXY+PC9kaXY+JztcclxuICAgICAgICAgICAgICAgIC8vcWl5dW4+XHJcbiAgICAgICAgICAgICAgICB0aGF0LiRlbGVtZW50LmZpbmQoJy5zdGVwcy1jb250ZW50JykuYXBwZW5kKGh0bWwpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBhZGQgYXJyb3dzIHRvIGJ0blxyXG4gICAgICAgICAgICB0aGlzLiRlbGVtZW50LmZpbmQoJy5idG4tcHJldicpLnByZXBlbmQoJzxpIGNsYXNzPVwid2l6LWljb24tYXJyb3ctbGVmdFwiPjwvaT4nKTtcclxuICAgICAgICAgICAgdGhpcy4kZWxlbWVudC5maW5kKCcuYnRuLW5leHQnKS5hcHBlbmQoJzxpIGNsYXNzPVwid2l6LWljb24tYXJyb3ctcmlnaHRcIj48L2k+Jyk7XHJcblxyXG4gICAgICAgICAgICAvLyBnZXQgc3RlcHMgYW5kIHByZXBhcmUgdGhlbVxyXG4gICAgICAgICAgICB2YXIgc3RlcHNMaSA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLnN0ZXBzID4gbGknKTtcclxuICAgICAgICAgICAgZm9yKHZhciBpPTA7aTxzdGVwc0xpLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0ZXAgPSAkKHN0ZXBzTGlbaV0pLFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gc3RlcC5hdHRyKCdkYXRhLXN0ZXAnKSxcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQgPSAnPHNwYW4gY2xhc3M9XCJzdGVwLXRleHRcIj4nKyBzdGVwLmh0bWwoKSArJzwvc3Bhbj4nO1xyXG5cclxuICAgICAgICAgICAgICAgIHN0ZXAuZW1wdHkoKS5odG1sKCc8c3BhbiBjbGFzcz1cInN0ZXAtaW5kZXhcIj48c3BhbiBjbGFzcz1cImxhYmVsXCI+JysgKGkrMSkgKyc8L3NwYW4+PC9zcGFuPicrIGNvbnRlbnQgKyAnPHNwYW4gY2xhc3M9XCJ3aXotaWNvbi1jaGV2cm9uLXJpZ2h0IGNvbG9yQVwiPjwvc3Bhbj48c3BhbiBjbGFzcz1cIndpei1pY29uLWNoZXZyb24tcmlnaHQgY29sb3JCXCI+PC9zcGFuPicpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoYXQuJGVsZW1lbnQuZmluZCgnLnN0ZXBzLWNvbnRlbnQgW2RhdGEtc3RlcD1cIicrIHRhcmdldCArJ1wiXScpLmFkZENsYXNzKCdzdGVwLXBhbmUnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBkZXRlY3QgY3VycmVudFN0ZXBcclxuICAgICAgICAgICAgICAgIGlmKHN0ZXAuaGFzQ2xhc3MoJ2FjdGl2ZScpICYmICF0aGF0LmN1cnJlbnRTdGVwKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGF0LmN1cnJlbnRTdGVwID0gaSsxO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLiRlbGVtZW50LmZpbmQoJy5zdGVwcyA+IGxpOmxhc3QtY2hpbGQnKS5hZGRDbGFzcygnZmluYWwnKTtcclxuXHJcbiAgICAgICAgICAgIGF0dGFjaEV2ZW50c0hhbmRsZXIuY2FsbCh0aGlzKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBjYWxsYmFja3MgPSBbJ2NoZWNrU3RlcCcsJ29uQ29tcGxldGVkJ10sY2I7XHJcbiAgICAgICAgICAgIGZvcih2YXIgaT0wO2k8Y2FsbGJhY2tzLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICAgICAgY2IgPSBjYWxsYmFja3NbaV07XHJcbiAgICAgICAgICAgICAgICBpZih0eXBlb2YgdGhpcy5vcHRpb25zW2NiXSA9PSAnc3RyaW5nJyAmJiB0eXBlb2Ygd2luZG93W3RoaXMub3B0aW9uc1tjYl1dID09ICdmdW5jdGlvbicpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9uc1tjYl0gPSB3aW5kb3dbdGhpcy5vcHRpb25zW2NiXV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNoZWNrU3RhdHVzLmNhbGwodGhpcyk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24oY2hlY2tTdGVwLGV2ZW50KXtcclxuICAgICAgICAgICAgbW92ZVN0ZXAuY2FsbCh0aGlzLGZhbHNlLHRydWUsZXZlbnQsY2hlY2tTdGVwKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBwcmV2aW91czogZnVuY3Rpb24oY2hlY2tTdGVwLGV2ZW50KXtcclxuICAgICAgICAgICAgbW92ZVN0ZXAuY2FsbCh0aGlzLGZhbHNlLGZhbHNlLGV2ZW50LGNoZWNrU3RlcCk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgc2V0U3RlcDogZnVuY3Rpb24oc3RlcCwgY2hlY2tTdGVwLCBldmVudCl7XHJcbiAgICAgICAgICAgIG1vdmVTdGVwLmNhbGwodGhpcyxzdGVwLG51bGwsZXZlbnQsY2hlY2tTdGVwKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBtYWluID0gZnVuY3Rpb24gKG1ldGhvZCkge1xyXG4gICAgICAgIHZhciB0aGlzUGx1Z2luID0gdGhpcy5kYXRhKGRhdGFQbHVnaW4pO1xyXG4gICAgICAgIGlmICh0aGlzUGx1Z2luKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbWV0aG9kID09PSAnc3RyaW5nJyAmJiB0aGlzUGx1Z2luW21ldGhvZF0pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzUGx1Z2luW21ldGhvZF0uYXBwbHkodGhpc1BsdWdpbiwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCdNZXRob2QgJyArIGFyZyArICcgZG9lcyBub3QgZXhpc3Qgb24galF1ZXJ5IC8ganFMaXRlJyArIHBsdWdpbk5hbWUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICghbWV0aG9kIHx8IHR5cGVvZiBtZXRob2QgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzUGx1Z2luID0gJC5leHRlbmQoe30sIG1ldGhvZHMpO1xyXG4gICAgICAgICAgICAgICAgdGhpc1BsdWdpbi5pbml0KHRoaXMsIG1ldGhvZCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEoZGF0YVBsdWdpbiwgdGhpc1BsdWdpbik7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCBwbHVnaW5OYW1lICsnIGlzIG5vdCBpbnN0YW50aWF0ZWQuIFBsZWFzZSBjYWxsICQoXCJzZWxlY3RvclwiKS4nKyBwbHVnaW5OYW1lICsnKHtvcHRpb25zfSknKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIHBsdWdpbiBpbnRlZ3JhdGlvblxyXG4gICAgaWYoJC5mbil7XHJcbiAgICAgICAgJC5mblsgcGx1Z2luTmFtZSBdID0gbWFpbjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJC5wcm90b3R5cGVbIHBsdWdpbk5hbWUgXSA9IG1haW47XHJcbiAgICB9XHJcblxyXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcclxuICAgICAgICB2YXIgbXlTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXdpemFyZC1pbml0XScpO1xyXG4gICAgICAgICQobXlTZWxlY3RvcilbIHBsdWdpbk5hbWUgXSh7fSk7XHJcbiAgICB9KTtcclxufShiZywgZG9jdW1lbnQsIHdpbmRvdykpO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gcmVzb3VyY2VzL2Fzc2V0cy9qcy9qcXVlcnkud2l6YXJkLmpzIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7OztBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }
/******/ ]);